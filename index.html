<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Page Title</title>
		<script src="js/FileSaver.js"></script>
      
    </head>
    <body>
	
        
    <textarea id="code">
        <!DOCTYPE html>
<html>
    <head>
        <title>Page Title</title>
		
    </head>
    <body>
        
		
		
    </body>
</html>

 </textarea>
 <button onclick= "run()">Run</button>
 <button onclick="mode()">Mode</button>
 <button onclick="save()">Download</button>
  <button onclick="document.getElementById('code').value = ''">Clear</button>
 

<input type="file" id="myfile" hidden>
<label for="myfile">üìÅ</label>
    <iframe id="code-output"></iframe>
	


    </body>
    <style>

textarea {
width:100%;
height:760px;
color:white;
background-color:black;
border:4px solid red;
}

.mode {
width:100%;
height:760px;
color:black;
background-color:white;
border:4px solid red;
}

iframe{
width:100%;
height:800px;
border: 4px solid green;
}


button{
    height:45px;
    width:21%;
    border:2px solid red;
	font-size:2.5em;
	background-color: cyan;

    
}
button:hover{
  background-color: red;
}
label{

padding:30px;
font-size:36px;
font-weight:600;
margin:auto;
}
    </style>
<script>
function run() {
var tc = document.getElementById("code").value;
document.getElementById("code-output").srcdoc = tc;
}



</script>
<script>
function mode(){

var Switch = document.getElementById("code");
Switch.classList.toggle("mode");
}
</script>
<script>
function save(){
var val = document.getElementById("code").value;
var c = document.createElement("a");
c.download = "user-text.txt";
var t = new Blob([val] , {type: "text/plain"});
c.href= window.URL.createObjectURL(t);
c.click();
}
</script>
<script>
let input = document.querySelector('#myfile') 

  

let textarea = document.querySelector('#code') 

  
// This event listener has been implemented to identify a 
// Change in the input section of the html code 
// It will be triggered when a file is chosen. 

input.addEventListener('change', () => { 

    let files = input.files; 

  

    if (files.length == 0) return; 

  

  

    const file = files[0]; 

  

    let reader = new FileReader(); 

  

    reader.onload = (e) => { 

        const file = e.target.result; 

  
        const lines = file.split(/\r\n|\n/); 

        textarea.value = lines.join('\n'); 

  

    }; 

  

    reader.onerror = (e) => alert(e.target.error.name); 

  

    reader.readAsText(file); 
}); 


</script>
<script>
function clear(){
document.getElementById("code").reset();
}
</script>






</html>
